### 18.2 미들웨어란?

- 리덕스 미들웨어는 액션을 디스패치했을 때 리듀서에서 이를 처리하기에 앞서 사전에 지정된 작업들을 실행한다.
미들웨어는 액션과 리듀서 사이의 중간자 라고 볼 수 있다.

# next
- store.dispatch와 비슷한 역할을 한다.
차이점은?
- next(action)을 호추하면 그다음 처리해야 할 미들웨어에게 액션을 넘겨주고,
만약 그 다음 미들웨어가 없다면 리듀서에게 액션을 넘겨준다는 것.

### 18.3 비동기 작업을 처리하는 미들웨어 사용

## redux-thunk
-리덕스를 사용하는 프로젝트에서 비동기 작업을 처리할 때 가장 기본적으로 사용하는 미들웨어

# Thunk란?
특정 작업을 나중에 할 수 있도록 미루기 위해 함수 형태로 감싼 것을 의미

redux-thunk라이브러리를 사용하면 thunk함수를 만들어서 디스패치할 수 있음.
리덕스 미들웨어가 그 함수를 전달받아 store의 dispatch와 getState를 파라미터로 넣어서 호출

thunk함수 내부에서는 시작할 때, 성공했을 때, 실패했을 때 다른 액션을 디스패치한다.
코드에서 반복되는 로직들은 컨테이너 컴포넌트를 사용하여 데이터 요청을 성공적으로 처리하고,
나중에 반복되는 로직을 따로 분리하여 재사용하는 형태로 코드 리팩토링하기!

데이터를 불러와서 렌더링해줄 때는 유효성 검사하기
post && 를 사용하면 post 객체가 유효할 때만 그 내부의 title body값으 보여줌
만약 데이터가 없는 상태라면 post.title을 조회하려고 할 때
자바스크립트 오류가 발생하니 반드시 유효성 검사를 할 것 !

# 웹 요청 비동기 작업 처리하기

thunk속성을 활용하여 웹 요청 비동기 작업을 처리하는 방법
포스트 읽기 
GET

# 리팩토링

API를 요청해야 할 때마다 thunk 함수를 작성하는 것과 로딩 상태를 리듀서에게 관리하는 작업은
귀찮을 뿐 아니라, 코드가 길어지는 단점

=> 반복되는 로직을 따로 분리하여 코드의 양 줄이기!

## redux-saga
비동기 작업을 관리하는 방법

- 기존 요청을 취소 처리해야 할 때(불필요한 중복 방지)
- 특정 액션이 발생했을 때 다른 액션을 발생시키거나, API 요청 등 리덕스와 관계없는 코드를 실행할 때
- 웹소켓을 사용할 때
- API 요청 실패시 재요청해야할 때

# 제너레이터 함수 이해하기
- 제너레이터 함수 문법의 핵심 기능은 함수를 작성할 때 함수를 특정 구간에 멈춰 놓을 수도 있고, 원할 때 다시 돌아가게 할 수 있다는 것

```
function weirdFunction(){
  return 1;
  return 2;
  return 3;
  return 4;
  return 5;
}
```
하나의 함수에서 값을 여러개 반환하는 것 불가능이므로 위 코드에서는 맨 위에 return 값인 1을 반환한다.

제너레이터를 만들 때는 `function*` 키워드를 사용한다.

제너레이터가 처음 만들어지면 함수의 흐름은 멈춰 있으며, next()가 호출되면 다음 `yield`가 있는 곳까지 호출하고 다시 멈춘다.
제너레이터 함수를 사용하면 함수를 도중에 멈출 수도 있고, 순차적으로 여러 값을 반환시킬 수도 있다.
next함수에 파라미터를 넣으면 제너레이터 함수에 yield를 사용하여 해당 값을 조회할 수도 있음.

## 비동기 카운터 
